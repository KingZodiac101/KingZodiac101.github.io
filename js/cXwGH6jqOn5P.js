/*!
 * cache=true
 * @license Licences are viewable at this URL: https://cdn1.gaiaonline.com/src/=/e143bb5df5304ae98988a03a4dabca2e-1478-303/src/js/modal/modal_yui3.js
 */
/*! /src/js/modal/modal_yui3.js */
!function(){var e=YUI.namespace("Env.gmodal");e.defaultTitle="",e.loadedCSS=!1}(),YUI().add("gmodal",(function(e){var t,a,o,s,n,l,d,r,c,u,g,f=YUI.Env.gmodal,h=[e.Plugin.OverlayModal],m={},v=!1,p=null,b=[],C=null,w=400;e.namespace("gaia"),null===e.UA.ios&&e.UA.android<1&&(h.push(e.Plugin.OverlayKeepaligned),h.push({fn:e.Plugin.OverlayAutohide,cfg:{clickedOutside:!1,focusedOutside:!1}})),(g=new e.Overlay({headerContent:"",bodyContent:"",footerContent:"",width:w+"px",centered:!0,zIndex:1e4,render:!1,plugins:h})).render(document.body),g.hide(),g.headerNode.addClass("gmodal-hd"),g.bodyNode.addClass("gmodal-body"),g.footerNode.addClass("gmodal-ftr"),g.get("boundingBox").addClass("gaia-modal-modul gmodal-theme-default"),g.set("footerContent",'<div class="gmodal-ftr-cap-w"></div><div class="gmodal-ftr-bar"></div><div class="gmodal-ftr-cap-e"></div>'),a=function(t){g.set("bodyContent",t),g.set("align",{points:[e.WidgetPositionAlign.CC,e.WidgetPositionAlign.CC]}),g.render(),g.show()},o=function(e,i,o){var s,n;if((v=void 0!==o&&o.submitted)&&null!==p&&"success"===p.on)try{p.fn.call(p.scope,i.responseText)}catch(e){}s=o.id,(n=o.title).length||(n=f.defaultTitle),s&&void 0===f.clearCache&&(m[s]=i.responseText),t(n),a(i.responseText)},s=function(e){a("Oops, we encountered a problem.  Please try again.")},n=function(){a('<div class="loader"></div>')},l=function(t){var a;if(n(),!t.url)throw new Error("URL is required.");t.id||(t.id=null),t.title||(t.title=""),t.cachebust&&(a=(new Date).getTime(),t.url+=(-1===t.url.indexOf("?")?"?":"&")+a),e.io(t.url,{on:{success:o,failure:s},arguments:{id:t.id,title:t.title}})},d=function(t){var a,i,o,s;if(!this.hasClass("allow")&&(t.preventDefault(),!this.hasClass("disabled")))if(this.hasClass("gmodal-close-btn")||this.hasClass("close")){if(g.hide(),b)for(s in b)b.hasOwnProperty(s)&&b[s]()}else if(i=t.currentTarget.get("id"),o=t.currentTarget.getAttribute("data-title"),this.hasClass("follow")&&l({url:this.getAttribute("data-url")||this.get("href"),id:i,title:o}),this.hasClass("submit")){if(!(a="form"===t.currentTarget.get("tagName").toLowerCase()?t.currentTarget:t.currentTarget.ancestor("form")||e.one(".gmodal-body form")))return;if(null!==C)try{C()}catch(e){}r(a,i,o),n()}},r=function(t,a,i){e.io(t.get("action"),{method:"POST",form:{id:t},on:{success:o,failure:s},arguments:{submitted:!0,title:i,id:a}})},(t=function(e){e=e.charAt(0).toUpperCase()+e.slice(1),g.set("headerContent",'<div class="gmodal-hdr-cap-w"></div><div class="gmodal-hdr-bar"><h2 class="gmodal-title">'+e+'</h2></div><div class="gmodal-hdr-cap-e"></div><a id="md_close" class="gmodal-close-btn" title="Close this window">Close</a>')})("Loading"),(u=g.get("boundingBox")).delegate("click",d,"a"),u.delegate("key",d,"press:enter,32",".cta-buttons a"),u.delegate("submit",(function(e){e.preventDefault(),this.addClass("submit"),d.call(this,e)}),"form"),c=function(e){var i,o,s,n=e.currentTarget,d=n.get("id"),r=n.getAttribute("title");if(e.preventDefault(),r.length||(r=f.defaultTitle),i=n.getData("width"),g.set("width",i||w),null!=(o=n.getData("offsety"))&&g.set("y",parseInt(o)),void 0!==m[d])return t(r),void a(m[d]);(s=e.currentTarget.getAttribute("data-url")||e.currentTarget.get("href"))&&l({url:s,id:d,title:r})},!1===f.loadedCSS&&(e.Get.css(location.protocol+"//"+GAIA_config("jscompiler_server")+"/src/_/"+GAIA_config("cache_value")+"/src/css/modal/modal.css"),f.loadedCSS=!0),e.gaia.gmodal={disableCache:function(){f.clearCache=!0},setDefaultTitle:function(e){f.defaultTitle=e,t(e)},addHandler:function(t,a,i){if(!i)throw new Error("selector is a required parameter");if(!a)throw new Error("container is a required parameter");e.delegate(t,c,a,i)},showOffer:function(e){var t,i,o,s,n;"object"==typeof e&&(t=e.title,i=e.description,o=e.img,s=e.cta,n=['<div class="container-left"><img src="',o,'"></div>','<div class="container-right"><div class="message-title"><p class="gaiafont-bold">',t,"</p></div>",'<div class="message-desc"><p class="gaiafont">',i,"</p></div>",'        <div class="message-button"><a id="goshopping" href="',e.url,'" class="ui-button gaiafont cta-button-lg"><span>',s,"</span></a></div></div>",'<div class="clearfix"></div>'].join(""),a(n),v=!0)},addCallback:function(e){if("object"==typeof e){if("function"!=typeof e.fn)throw new Error("Callback function 'fn' is not a function.");if(void 0!==e.on)switch(e.on){case"close":g.after("visibleChange",(function(t){v&&!t.newVal&&e.fn.call(e.scope)}));break;case"beforesubmit":C=e.fn;break;case"success":p=e;break;default:throw new Error("Invalid type for 'on' in addCallback.")}}},addModalDelegate:function(t,a,i){e.delegate(t,i,g.get("boundingBox"),a)},registerOnHide:function(e){b.push(e)},setWidth:function(e){w=parseInt(e,10),g.set("width",e)},setTheme:function(e){g.get("boundingBox").replaceClass("gmodal-theme-default",e)},showURL:function(e){l(e)},showContent:function(e){t(e.title||f.defaultTitle),a(e.markup)},showRegRewardModal:function(){var t,i=e.one("#fbregistrantrewardmodal");i&&(t=i.getHTML(),a(t))},showShareRewardModal:function(t){g.set("headerContent",'<div class="gmodal-hdr-cap-w"></div><div class="gmodal-hdr-bar"><h2 class="gmodal-title"></h2></div><div class="gmodal-hdr-cap-e"></div><a id="md_close" class="gmodal-close-btn" title="Close this window">Close</a>'),g.set("bodyContent",t),g.set("align",{points:[e.WidgetPositionAlign.CC,e.WidgetPositionAlign.CC]}),g.render(),g.show()},close:function(){if(g.hide(),b)for(i in b)b.hasOwnProperty(i)&&b[i]()}}}),"1.0.1",{requires:["io-base","event-delegate","event-key","io-form","overlay","gallery-overlay-extras"]});